{"ast":null,"code":"var _jsxFileName = \"H:\\\\D\\xE9velopeur WEB\\\\Projet 7 (4eme en vrais) API REST\\\\api-rest - Copie (5)\\\\client\\\\src\\\\components\\\\Serpentin.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport './Serpentin.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Serpentin = () => {\n  _s();\n  const [points, setPoints] = useState([]);\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const handleMouseMove = e => {\n      const rect = canvas.getBoundingClientRect();\n      const x = e.clientX - rect.left;\n      const y = e.clientY - rect.top;\n      setPoints(prevPoints => {\n        const newPoints = [...prevPoints, {\n          x,\n          y\n        }];\n        if (newPoints.length > 100) {\n          newPoints.shift(); // garder seulement les 100 derniers points\n        }\n        return newPoints;\n      });\n    };\n    canvas.addEventListener('mousemove', handleMouseMove);\n    return () => {\n      canvas.removeEventListener('mousemove', handleMouseMove);\n    };\n  }, []);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.beginPath();\n    ctx.strokeStyle = 'blue'; // Couleur du serpentin\n    ctx.lineWidth = 2;\n    points.forEach((point, index) => {\n      if (index === 0) {\n        ctx.moveTo(point.x, point.y);\n      } else {\n        ctx.lineTo(point.x, point.y);\n      }\n    });\n    ctx.stroke();\n  }, [points]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    width: \"100vw\",\n    height: \"100vh\",\n    className: \"serpentin-canvas\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 10\n  }, this);\n};\n_s(Serpentin, \"E3h/tRA6K4gn/dRZ+V9MXv41RPs=\");\n_c = Serpentin;\nexport default Serpentin;\nvar _c;\n$RefreshReg$(_c, \"Serpentin\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","Serpentin","_s","points","setPoints","canvasRef","canvas","current","ctx","getContext","handleMouseMove","e","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","prevPoints","newPoints","length","shift","addEventListener","removeEventListener","clearRect","width","height","beginPath","strokeStyle","lineWidth","forEach","point","index","moveTo","lineTo","stroke","ref","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["H:/DÃ©velopeur WEB/Projet 7 (4eme en vrais) API REST/api-rest - Copie (5)/client/src/components/Serpentin.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport './Serpentin.css';\r\n\r\nconst Serpentin = () => {\r\n  const [points, setPoints] = useState([]);\r\n  const canvasRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    const handleMouseMove = (e) => {\r\n      const rect = canvas.getBoundingClientRect();\r\n      const x = e.clientX - rect.left;\r\n      const y = e.clientY - rect.top;\r\n\r\n      setPoints((prevPoints) => {\r\n        const newPoints = [...prevPoints, { x, y }];\r\n        if (newPoints.length > 100) {\r\n          newPoints.shift(); // garder seulement les 100 derniers points\r\n        }\r\n        return newPoints;\r\n      });\r\n    };\r\n\r\n    canvas.addEventListener('mousemove', handleMouseMove);\r\n\r\n    return () => {\r\n      canvas.removeEventListener('mousemove', handleMouseMove);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    ctx.beginPath();\r\n    ctx.strokeStyle = 'blue'; // Couleur du serpentin\r\n    ctx.lineWidth = 2;\r\n\r\n    points.forEach((point, index) => {\r\n      if (index === 0) {\r\n        ctx.moveTo(point.x, point.y);\r\n      } else {\r\n        ctx.lineTo(point.x, point.y);\r\n      }\r\n    });\r\n\r\n    ctx.stroke();\r\n  }, [points]);\r\n\r\n  return <canvas ref={canvasRef} width=\"100vw\" height=\"100vh\" className=\"serpentin-canvas\" />;\r\n};\r\n\r\nexport default Serpentin;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,OAAO,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzB,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAMO,SAAS,GAAGR,MAAM,CAAC,IAAI,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd,MAAMU,MAAM,GAAGD,SAAS,CAACE,OAAO;IAChC,MAAMC,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;IAEnC,MAAMC,eAAe,GAAIC,CAAC,IAAK;MAC7B,MAAMC,IAAI,GAAGN,MAAM,CAACO,qBAAqB,CAAC,CAAC;MAC3C,MAAMC,CAAC,GAAGH,CAAC,CAACI,OAAO,GAAGH,IAAI,CAACI,IAAI;MAC/B,MAAMC,CAAC,GAAGN,CAAC,CAACO,OAAO,GAAGN,IAAI,CAACO,GAAG;MAE9Bf,SAAS,CAAEgB,UAAU,IAAK;QACxB,MAAMC,SAAS,GAAG,CAAC,GAAGD,UAAU,EAAE;UAAEN,CAAC;UAAEG;QAAE,CAAC,CAAC;QAC3C,IAAII,SAAS,CAACC,MAAM,GAAG,GAAG,EAAE;UAC1BD,SAAS,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC;QACrB;QACA,OAAOF,SAAS;MAClB,CAAC,CAAC;IACJ,CAAC;IAEDf,MAAM,CAACkB,gBAAgB,CAAC,WAAW,EAAEd,eAAe,CAAC;IAErD,OAAO,MAAM;MACXJ,MAAM,CAACmB,mBAAmB,CAAC,WAAW,EAAEf,eAAe,CAAC;IAC1D,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAENd,SAAS,CAAC,MAAM;IACd,MAAMU,MAAM,GAAGD,SAAS,CAACE,OAAO;IAChC,MAAMC,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;IAEnCD,GAAG,CAACkB,SAAS,CAAC,CAAC,EAAE,CAAC,EAAEpB,MAAM,CAACqB,KAAK,EAAErB,MAAM,CAACsB,MAAM,CAAC;IAEhDpB,GAAG,CAACqB,SAAS,CAAC,CAAC;IACfrB,GAAG,CAACsB,WAAW,GAAG,MAAM,CAAC,CAAC;IAC1BtB,GAAG,CAACuB,SAAS,GAAG,CAAC;IAEjB5B,MAAM,CAAC6B,OAAO,CAAC,CAACC,KAAK,EAAEC,KAAK,KAAK;MAC/B,IAAIA,KAAK,KAAK,CAAC,EAAE;QACf1B,GAAG,CAAC2B,MAAM,CAACF,KAAK,CAACnB,CAAC,EAAEmB,KAAK,CAAChB,CAAC,CAAC;MAC9B,CAAC,MAAM;QACLT,GAAG,CAAC4B,MAAM,CAACH,KAAK,CAACnB,CAAC,EAAEmB,KAAK,CAAChB,CAAC,CAAC;MAC9B;IACF,CAAC,CAAC;IAEFT,GAAG,CAAC6B,MAAM,CAAC,CAAC;EACd,CAAC,EAAE,CAAClC,MAAM,CAAC,CAAC;EAEZ,oBAAOH,OAAA;IAAQsC,GAAG,EAAEjC,SAAU;IAACsB,KAAK,EAAC,OAAO;IAACC,MAAM,EAAC,OAAO;IAACW,SAAS,EAAC;EAAkB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAC7F,CAAC;AAACzC,EAAA,CAnDID,SAAS;AAAA2C,EAAA,GAAT3C,SAAS;AAqDf,eAAeA,SAAS;AAAC,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
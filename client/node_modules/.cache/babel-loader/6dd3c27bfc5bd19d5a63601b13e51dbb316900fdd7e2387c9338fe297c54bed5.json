{"ast":null,"code":"var _jsxFileName = \"H:\\\\D\\xE9velopeur WEB\\\\Projet 7 (4eme en vrais) API REST\\\\api-rest - Copie (5)\\\\client\\\\src\\\\components\\\\Serpentin.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport './Serpentin.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Serpentin = () => {\n  _s();\n  const canvasRef = useRef(null);\n  const [positions, setPositions] = useState([]);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    let animationFrameId;\n    const draw = () => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      ctx.strokeStyle = 'white';\n      ctx.lineWidth = 2;\n      ctx.beginPath();\n      if (positions.length > 0) {\n        ctx.moveTo(positions[0].x, positions[0].y);\n        for (let i = 1; i < positions.length; i++) {\n          ctx.lineTo(positions[i].x, positions[i].y);\n        }\n      }\n      ctx.stroke();\n      animationFrameId = requestAnimationFrame(draw);\n    };\n    draw();\n    return () => {\n      cancelAnimationFrame(animationFrameId);\n    };\n  }, [positions]);\n  const handleMouseMove = event => {\n    const rect = canvasRef.current.getBoundingClientRect();\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n    setPositions(prevPositions => {\n      const newPositions = [...prevPositions, {\n        x,\n        y\n      }];\n      if (newPositions.length > 100) {\n        newPositions.shift(); // Keep the trail length under 100 points\n      }\n      return newPositions;\n    });\n  };\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    canvas.addEventListener('mousemove', handleMouseMove);\n    return () => {\n      canvas.removeEventListener('mousemove', handleMouseMove);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    className: \"serpentin-canvas\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 10\n  }, this);\n};\n_s(Serpentin, \"Ab2Zv79fbPJq8iBrkhyTv0gLiSA=\");\n_c = Serpentin;\nexport default Serpentin;\nvar _c;\n$RefreshReg$(_c, \"Serpentin\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","Serpentin","_s","canvasRef","positions","setPositions","canvas","current","ctx","getContext","animationFrameId","draw","clearRect","width","height","strokeStyle","lineWidth","beginPath","length","moveTo","x","y","i","lineTo","stroke","requestAnimationFrame","cancelAnimationFrame","handleMouseMove","event","rect","getBoundingClientRect","clientX","left","clientY","top","prevPositions","newPositions","shift","addEventListener","removeEventListener","ref","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["H:/DÃ©velopeur WEB/Projet 7 (4eme en vrais) API REST/api-rest - Copie (5)/client/src/components/Serpentin.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport './Serpentin.css';\r\n\r\nconst Serpentin = () => {\r\n  const canvasRef = useRef(null);\r\n  const [positions, setPositions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    let animationFrameId;\r\n\r\n    const draw = () => {\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      ctx.strokeStyle = 'white';\r\n      ctx.lineWidth = 2;\r\n      ctx.beginPath();\r\n\r\n      if (positions.length > 0) {\r\n        ctx.moveTo(positions[0].x, positions[0].y);\r\n        for (let i = 1; i < positions.length; i++) {\r\n          ctx.lineTo(positions[i].x, positions[i].y);\r\n        }\r\n      }\r\n\r\n      ctx.stroke();\r\n      animationFrameId = requestAnimationFrame(draw);\r\n    };\r\n\r\n    draw();\r\n\r\n    return () => {\r\n      cancelAnimationFrame(animationFrameId);\r\n    };\r\n  }, [positions]);\r\n\r\n  const handleMouseMove = (event) => {\r\n    const rect = canvasRef.current.getBoundingClientRect();\r\n    const x = event.clientX - rect.left;\r\n    const y = event.clientY - rect.top;\r\n\r\n    setPositions((prevPositions) => {\r\n      const newPositions = [...prevPositions, { x, y }];\r\n      if (newPositions.length > 100) {\r\n        newPositions.shift(); // Keep the trail length under 100 points\r\n      }\r\n      return newPositions;\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    canvas.addEventListener('mousemove', handleMouseMove);\r\n\r\n    return () => {\r\n      canvas.removeEventListener('mousemove', handleMouseMove);\r\n    };\r\n  }, []);\r\n\r\n  return <canvas ref={canvasRef} className=\"serpentin-canvas\" />;\r\n};\r\n\r\nexport default Serpentin;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"H:\\\\D\\xE9velopeur WEB\\\\Projet 7 (4eme en vrais) API REST\\\\api-rest - Copie (5)\\\\client\\\\src\\\\components\\\\Serpentin.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport './Serpentin.css'; // Assurez-vous que le CSS est importé\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Serpentin = () => {\n  _s();\n  const canvasRef = useRef(null);\n  const [pointerEvents, setPointerEvents] = useState('none');\n  const [positions, setPositions] = useState([]);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const resizeCanvas = () => {\n      if (canvas) {\n        canvas.width = window.innerWidth;\n        canvas.height = window.innerHeight;\n      }\n    };\n    const drawSerpentin = () => {\n      if (!ctx) return;\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      ctx.strokeStyle = '#333333'; // Jaune doré\n      ctx.lineWidth = 4;\n      ctx.beginPath();\n\n      // Dessine la ligne serpentine\n      positions.forEach(([x, y], index) => {\n        if (index === 0) {\n          ctx.moveTo(x, y);\n        } else {\n          ctx.lineTo(x, y);\n        }\n      });\n      ctx.stroke();\n    };\n    const handleMouseMove = event => {\n      const x = event.clientX;\n      const y = event.clientY;\n\n      // Ajoute la position actuelle à la liste\n      setPositions(prevPositions => [...prevPositions, [x, y]]);\n\n      // Limite le nombre de points pour éviter que le tableau devienne trop grand\n      if (positions.length > 5) {\n        setPositions(prevPositions => prevPositions.slice(1));\n      }\n    };\n    const handleMouseEnter = () => setPointerEvents('auto');\n    const handleMouseLeave = () => setPointerEvents('none');\n    const animate = () => {\n      drawSerpentin();\n      requestAnimationFrame(animate);\n    };\n\n    // Resize canvas when window resizes\n    window.addEventListener('resize', resizeCanvas);\n    resizeCanvas(); // Initial resize\n\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseenter', handleMouseEnter);\n    document.addEventListener('mouseleave', handleMouseLeave);\n\n    // Start animation loop\n    animate();\n    return () => {\n      window.removeEventListener('resize', resizeCanvas);\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseenter', handleMouseEnter);\n      document.removeEventListener('mouseleave', handleMouseLeave);\n    };\n  }, [positions, pointerEvents]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    className: \"serpentin-canvas\",\n    style: {\n      pointerEvents\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n_s(Serpentin, \"zo7SME9u3vqNhj/EasA/NL04xR4=\");\n_c = Serpentin;\nexport default Serpentin;\nvar _c;\n$RefreshReg$(_c, \"Serpentin\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","Serpentin","_s","canvasRef","pointerEvents","setPointerEvents","positions","setPositions","canvas","current","ctx","getContext","resizeCanvas","width","window","innerWidth","height","innerHeight","drawSerpentin","clearRect","strokeStyle","lineWidth","beginPath","forEach","x","y","index","moveTo","lineTo","stroke","handleMouseMove","event","clientX","clientY","prevPositions","length","slice","handleMouseEnter","handleMouseLeave","animate","requestAnimationFrame","addEventListener","document","removeEventListener","ref","className","style","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["H:/Dévelopeur WEB/Projet 7 (4eme en vrais) API REST/api-rest - Copie (5)/client/src/components/Serpentin.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport './Serpentin.css'; // Assurez-vous que le CSS est importé\r\n\r\nconst Serpentin = () => {\r\n  const canvasRef = useRef(null);\r\n  const [pointerEvents, setPointerEvents] = useState('none');\r\n  const [positions, setPositions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    const resizeCanvas = () => {\r\n      if (canvas) {\r\n        canvas.width = window.innerWidth;\r\n        canvas.height = window.innerHeight;\r\n      }\r\n    };\r\n\r\n    const drawSerpentin = () => {\r\n      if (!ctx) return;\r\n\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      ctx.strokeStyle = '#333333'; // Jaune doré\r\n      ctx.lineWidth = 4;\r\n      ctx.beginPath();\r\n      \r\n      // Dessine la ligne serpentine\r\n      positions.forEach(([x, y], index) => {\r\n        if (index === 0) {\r\n          ctx.moveTo(x, y);\r\n        } else {\r\n          ctx.lineTo(x, y);\r\n        }\r\n      });\r\n      \r\n      ctx.stroke();\r\n    };\r\n\r\n    const handleMouseMove = (event) => {\r\n      const x = event.clientX;\r\n      const y = event.clientY;\r\n\r\n      // Ajoute la position actuelle à la liste\r\n      setPositions(prevPositions => [...prevPositions, [x, y]]);\r\n\r\n      // Limite le nombre de points pour éviter que le tableau devienne trop grand\r\n      if (positions.length > 5) {\r\n        setPositions(prevPositions => prevPositions.slice(1));\r\n      }\r\n    };\r\n\r\n    const handleMouseEnter = () => setPointerEvents('auto');\r\n    const handleMouseLeave = () => setPointerEvents('none');\r\n\r\n    const animate = () => {\r\n      drawSerpentin();\r\n      requestAnimationFrame(animate);\r\n    };\r\n\r\n    // Resize canvas when window resizes\r\n    window.addEventListener('resize', resizeCanvas);\r\n    resizeCanvas(); // Initial resize\r\n\r\n    document.addEventListener('mousemove', handleMouseMove);\r\n    document.addEventListener('mouseenter', handleMouseEnter);\r\n    document.addEventListener('mouseleave', handleMouseLeave);\r\n\r\n    // Start animation loop\r\n    animate();\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', resizeCanvas);\r\n      document.removeEventListener('mousemove', handleMouseMove);\r\n      document.removeEventListener('mouseenter', handleMouseEnter);\r\n      document.removeEventListener('mouseleave', handleMouseLeave);\r\n    };\r\n  }, [positions, pointerEvents]);\r\n\r\n  return (\r\n    <canvas\r\n      ref={canvasRef}\r\n      className=\"serpentin-canvas\"\r\n      style={{ pointerEvents }}\r\n    ></canvas>\r\n  );\r\n};\r\n\r\nexport default Serpentin;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}